{% extends 'base.html.twig' %}

{% block title %}Hello PanierController!{% endblock %}

{% block body %}
<h1>{{admin.title}}</h1>
    {% if commandes is not null %}
    <table class="table">
        <thead>
            <tr>
                <th scope="col">{{admin.nbCart}}</th>
                <th scope="col">{{admin.user}}</th>
                <th scope="col">{{admin.content}}</th>
            </tr>
        </thead>
        <tbody>
            {% for commande in commandes %}
                <tr>
                    <th>{{commande.id}}</th>
                    <th>{{commande.user.nom}}</th>
                    {% if commande.contenuPaniers|length < 1 %} {# si le panier n'a pas encore de contenu #}
                        <th>{{admin.noProducts}}</th>
                    {% else %}
                    <th>
                        {% for produit in commande.contenuPaniers %}
                            | {{produit.produit.nom}} |
                        {% endfor %}
                    </th>
                {% endif %}
                </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
        <p>{{admin.noOrder}}</p>
    {% endif %}
    
{% endblock %}
